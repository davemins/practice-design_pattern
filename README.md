# practice design pattern

## strategy pattern
변화하는 부분과 그대로 있는 부분

각 행동을 나타낼 클래스 집합을 새로 만들어야 한다

⇒ 구현보다는 인터페이스에 맞춰서 프로그래밍 한다

인터페이스, 구현 클래스, 행동 인터페이스

상위 형식에 맞춰서 프로그래밍 한다

다형성..

구체적으로 구현된 객체를 실행 시에 대입..

행동을 구현하는 클래스..

나는 행동 + 꽥꽥거리는 행동 → 다른 클래스에 위임

flyBehavior, quackBehavior

인스턴스 변수, 구상 클래스

얼마든지 유연하게 초기화할 수 있다

Page 54 → 직접 코드 쳐서 해보기

동적으로 행동 지정하기

setFlyBehavior()

setQuackBehavior()

실행 중에 행동을 바꾸고 싶으면 원하는 행동에 해당하는 Duck의 setter 메서드를 호출

캡슐화된 행동 살펴보기

클래스 다이어그램을 직접 그려보면 좋아

⇒ 상속보다는 구성을 활용한다

행동을 상속 받는 대신, 올바른 행동 객체로 구성하여 행동 부여받기


💡 **전략 패턴** : 알고리즘군을 정의하고 캡슐화해서 각각의 알고리즘군을 수정해서 쓸 수 있게 해준다. 클라이언트로부터 알고리즘을 분리해서 독립적으로 변경할 수 있다.

디자인패턴 만나기

공통으로 아는 전문 용어 → 디자인 패턴, 효율적인 의사소통

아키텍처를 생각하는 수준을 올려준다.

라이브러리와 프레임워크가 도와주지 못하는 부분을 도와주는 것이 디자인패턴

비관적인 의견 → 간단하지 않다

패턴의 밑바닥 → 객체지향 패턴 (추상화, 캡슐화, 상속, 다형성)





## observer pattern
새 소식을 알려줄 수 있는 패턴

차세대 인터넷 기반 기상 스테이션 구축 프로젝트?

실시간 갱신 → 기상 모니터링 어플리케이션

weatherData 클래스, measurementsChanged() 메서드

소프트웨어 개발에서 바뀌지 않는 단 하나 : 변화!

확장성, 게터 메서드

💡 **옵저버 패턴** : 한 객체의 상태가 바뀌면 그 객체에 의존하는 다른 객체에게 연락이 가고 자동으로 내용이 갱신되는 방식으로 일대다 의존성을 정의


신문사 (주제 객체) + 구독자 (옵저버 객체)

느슨한 결합 : 의존도가 낮은 관계 (Lose Coupling)

사용할 수 있을 것 같은 기능 : 퀘스트 (공통), 알림, 구독, 브로드포스 아록리즘

⇒ 상호작용하는 객체 사이에는 가능하면 느슨한 결합을 사용해야 한다

주제 [WeatherData 객체] : 옵저버 [디스플레이 요소]

스윙 라이브러리

자바 GUI 툴킷

JButton 객체 ⇒ JFrame에 추가

푸시를 풀 방식으로 코드 바꾸기

→ 옵저버가 필요할 때마다 주제로부터 데이터를 당겨오도록 하는 방식

→ getter 메서드로 주제의 날씨 데이터를 가져오도록 각 Observer 구상 클래스를 수정

MVC 패턴에도 응용이 가능하다





## decorator pattern
데코레이터 패턴

실행 중에 클래를 꾸미는 방법

“커피 주문 시스템”

처음엔 슈퍼 클래스 하나를 만들고 모든 음료를 서브 클래스로 만들어 구현 → 너무 많아짐

어떤 원칙을 지키지 않았을까?

재사용, 분리 // 구성으로 객체의 행동 확장하자

변경에는 닫혀있고 확장에는 열려있어야 한다

⇒ OCP(Open-Closed Principle)

클래스는 확장에는 열려있어야 하지만 변경에는 닫혀있어야 한다

(수정이 아닌 추가..?) 라는 의미인 것 같다

코드에서 확장할 부분을 선택할 때는 세심한 주의를 기울여야 한다

💡 **데코레이션 패턴** : 이 패턴으로 객체에 추가 요소를 동적으로 더할 수  있다. 데코레이터를 사용하면 서브클래스를 만들 때보다 훨씬 유연하게 기능을 확장할 수 있다


클래스 다이어그램

데코레이터 형식이 그 데코레이터로 감싸는 객체의 형식과 같다

“커피 주문 시스템 코드 만들기”

추상 구성 요소 (Beverage), 구상 구성 요소 (HouseBlend)

추상 데코레이터 (Condiment Decorator), 구상 데코레이터 (Mocha)

데코레이터가 적용된 예 : 자바 I

java.io 패키지는 데코레이터 패턴을 바탕으로 만들어졌다

자바 I/O 데코레이터도 만들어 볼 수 있다

단점 : 자잘한 클래스가 엄청나게 추가된다, 형식 문제, 초기화하는데 필요한 코드가 훨씬 복잡해진다, Factory, Builder 패턴이 도와줄 듯





## factory pattern

## singleton pattern

## command pattern

## adapter pattern

## facade pattern
